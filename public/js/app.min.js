(()=>{"use strict";var t={24:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function a(t){try{c(r.next(t))}catch(t){u(t)}}function i(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,i)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(539),i=u(n(677)),c=function(){function t(){}return t.fetchAPI=function(t,e){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){return 0===Object.keys(t).length?a.API_ERROR:t}))];case 1:return[2,n.sent()]}}))}))},t.isApiError=function(t){return"string"==typeof t&&((0,i.default)("Ha ocurrido un error."),!0)},t}();e.default=c},8:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(770)),u=r(n(331)),a=r(n(764)),i=r(n(290)),c=r(n(170)),s=r(n(939)),l=r(n(405)),f=r(n(930)),d=r(n(49)),p=r(n(260)),h=n(539),_=function(){function t(t){this.PREPARE={products:"productsPrepare",product:"productPrepare",cart:"cartPrepare"},this.ui=new f.default(t),this.cart=new l.default,this.favorites=new s.default}return t.prototype.fileLoader=function(){var t=this.PREPARE[h.CURRENT_PAGE];t&&this[t](),(0,d.default)(this.cart.getQuantityProducts()),(0,o.default)(),(0,i.default)()},t.prototype.productsPrepare=function(){(0,a.default)(),(0,c.default)(this.cart)},t.prototype.productPrepare=function(){(0,c.default)(this.cart)},t.prototype.cartPrepare=function(){(0,u.default)(this.cart),(0,p.default)(this.cart)},t}();e.default=_},405:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=u(n(983)),i=n(539),c=u(n(2)),s=function(t){function e(){var e=t.call(this,i.SS_CART,{products:{},quantityProducts:0})||this;return e.products=[],e}return o(e,t),e.prototype.addToCart=function(t){var e=this.getStorage(),n=e.products,r=e.quantityProducts;n[t]||(n[t]=0),n[t]+=1,this.updateStorage({products:n,quantityProducts:r+1})},e.prototype.removeFromCart=function(t){var e=this.getStorage(),n=e.products,r=e.quantityProducts;1===n[t]?delete n[t]:n[t]-=1,this.updateStorage({products:n,quantityProducts:r-1})},e.prototype.close=function(){this.deleteStorage(),alert("Imagina que la compra finalizó")},e.prototype.isEmpty=function(){return 0===this.getProducts().length},e.prototype.isCartError=function(){return!!this.isEmpty()&&((0,c.default)("El carrito está vacio."),!0)},e.prototype.getProductsIDs=function(){var t;return(null===(t=this.getStorage())||void 0===t?void 0:t.products)||{}},e.prototype.setProducts=function(t){this.products=t},e.prototype.getProducts=function(){return this.products},e.prototype.getQuantityProducts=function(){var t;return(null===(t=this.getStorage())||void 0===t?void 0:t.quantityProducts)||0},e}(a.default);e.default=s},939:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=u(n(983)),i=n(539),c=function(t){function e(){return t.call(this,i.SS_FAVORITES,[])||this}return o(e,t),e.prototype.addToFavorites=function(t){var e=this.getStorage();e.push(t),this.updateStorage(e)},e.prototype.removeProduct=function(t){var e=this.getStorage();this.updateStorage(e.splice(e.indexOf(t),1))},e.prototype.isEmpty=function(){return 0===this.getStorage().length},e.prototype.getFavorites=function(){return this.getStorage()},e.prototype.isFavorite=function(t){return this.getStorage().includes(t)},e}(a.default);e.default=c},632:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.followWithParams=function(e,n){window.location.replace(window.location.origin+e+t.stringfyParams(n))},t.followWithCurrentParams=function(e){window.location.replace(window.location.origin+e+t.getParams())},t.getParams=function(){return window.location.search},t.createURL=function(t){return window.location.origin+t},t.stringfyParams=function(t){return"?"+Object.keys(t).map((function(t){return t+"=params[key]"})).join("&")},t}();e.default=n},983:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.storageName=t,sessionStorage.getItem(t)||sessionStorage.setItem(t,JSON.stringify(e))}return t.prototype.updateStorage=function(t){sessionStorage.setItem(this.storageName,JSON.stringify(t))},t.prototype.deleteStorage=function(){sessionStorage.removeItem(this.storageName)},t.prototype.getStorage=function(){return JSON.parse(sessionStorage.getItem(this.storageName))},t}();e.default=n},930:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(236)),u=r(n(534)),a=function(){function t(t){this.document=t}return t.prototype.products=function(t,e,n,r){e.map((function(e){return(0,o.default)(e,t.isFavorite(e.id))})).join(""),(0,u.default)(n||1,r)},t}();e.default=a},497:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.units,n=t.price,r=t.total,o=t.id;return'\n    <tr>\n      <td class="text-center adminTD" data-product-id="'+o+'">\n        <div class="reduceOneButton">-1</div>\n        <div class="increaseOneButton">+1</div>\n      </td>\n      <td class="conceptTable">\n        <a class="cartTitle" href="/product/'+o+'">\n          '+t.title+'\n        </a>\n      </td>\n      <td class="text-center">'+e+'</td>\n      <td class="text-center">$'+n+'</td>\n      <td class="text-center">$'+r+"</td>\n    </tr>\n  "}},596:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(497));e.default=function(t){var e=0;return{CartTable:Object.values(t).map((function(t){return e+=t.total,(0,o.default)(t)})).join(""),total:e}}},539:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SS_FAVORITES=e.SS_CART=e.API_ERROR=e.API_POSTS=e.CURRENT_PAGE=e.DEFAULT_HTML_FILE=e.PAGES=e.SEARCH_PAIR_INPUTS=e.QUANTITY_PRODUCTS_INDICATOR=void 0;var n=document.getElementById("search-input-s"),r=document.getElementById("search-input"),o=document.getElementById("quantityProducts");e.QUANTITY_PRODUCTS_INDICATOR=o;var u=window.location.pathname.split("/")[1];e.CURRENT_PAGE=u,e.PAGES=["index","cart","products","product","error"],e.DEFAULT_HTML_FILE="index";var a={"search-button-s":n,"search-button":r};e.SEARCH_PAIR_INPUTS=a,e.API_POSTS="https://jsonplaceholder.typicode.com/posts/",e.API_ERROR="ERROR",e.SS_CART="cart",e.SS_FAVORITES="favorites"},677:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){alert(t)}},2:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){alert(t)}},750:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(503));e.default=function(t,e,n){t.addEventListener("click",(function(t){var r=(0,o.default)(t);e.addToCart(r),n()}))}},455:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(503));e.default=function(t,e,n){t.addEventListener("click",(function(t){var r=(0,o.default)(t);e.removeFromCart(r),n()}))}},555:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(539),u=r(n(483));e.default=function(t){var e=t.target;(0,u.default)(o.SEARCH_PAIR_INPUTS[e.id])}},513:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(483));e.default=function(t){13===t.keyCode&&(0,o.default)(t.target)}},331:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(260));e.default=function(t){document.getElementById("js-closeCart").addEventListener("click",(function(){t.close(),(0,o.default)()}))}},849:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(750)),u=r(n(455)),a=document.getElementsByClassName("reduceOneButton"),i=document.getElementsByClassName("increaseOneButton");e.default=function(t,e){Array.from(a).forEach((function(n){(0,u.default)(n,e,t)})),Array.from(i).forEach((function(n){(0,o.default)(n,e,t)}))}},770:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=document.getElementsByClassName("openNav-button"),r=document.getElementById("nav-container");e.default=function(){Array.from(n).forEach((function(t){t.addEventListener("click",(function(){r.classList.toggle("active")}))}))}},764:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(632)),u=document.getElementsByClassName("js-paginator");e.default=function(){Array.from(u).forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.dataset.page;o.default.followWithCurrentParams("/products/"+e)}))}))}},290:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(555)),u=r(n(513)),a=document.getElementById("search-button-s"),i=document.getElementById("search-button"),c=document.getElementById("search-input-s"),s=document.getElementById("search-input");e.default=function(){c.addEventListener("keyup",u.default),s.addEventListener("keyup",u.default),a.addEventListener("click",o.default),i.addEventListener("click",o.default)}},170:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function a(t){try{c(r.next(t))}catch(t){u(t)}}function i(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,i)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=u(n(49)),i=document.getElementsByClassName("shopButton");e.default=function(t){var e=this;Array.from(i).forEach((function(n){n.addEventListener("click",(function(n){return r(e,void 0,void 0,(function(){var e;return o(this,(function(r){return e=+n.target.dataset.id,t.addToCart(e),(0,a.default)(t.getQuantityProducts()),[2]}))}))}))}))}},266:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(8)),u=document.getElementById("app"),a=new o.default(u);a.fileLoader(),e.default=a},503:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.target.parentElement.dataset.productId;return Number(e)}},260:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,u){function a(t){try{c(r.next(t))}catch(t){u(t)}}function i(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,i)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=u(n(632)),i=u(n(24)),c=u(n(849)),s=u(n(266)),l=u(n(49)),f=u(n(596));function d(t){return r(this,void 0,void 0,(function(){var e,n,r,u;return o(this,(function(o){switch(o.label){case 0:return e=t.getProductsIDs(),n=Object.keys(e),[4,i.default.fetchAPI(a.default.createURL("/products/ids"),{IDList:n})];case 1:return r=o.sent(),i.default.isApiError(r)||(u=r.map((function(t){var n=t;return n.units=e[t.id],n.total=n.price*n.units,n})),t.setProducts(u)),[2]}}))}))}e.default=function t(e){return void 0===e&&(e=s.default.cart),r(this,void 0,void 0,(function(){var n,r,u;return o(this,(function(o){switch(o.label){case 0:return[4,d(e)];case 1:return o.sent(),e.isCartError(),n=e.getProducts(),r=(0,f.default)(n),u=r.total,function(t,e){document.getElementById("tBodyCart").innerHTML=t,document.getElementById("totalCart").innerHTML="$"+e}(r.CartTable,u),(0,c.default)(t,e),(0,l.default)(e.getQuantityProducts()),[2]}}))}))}},483:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(632));e.default=function(t){return o.default.followWithParams("/products",{search:t.value})}},49:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(539);e.default=function(t){r.QUANTITY_PRODUCTS_INDICATOR.innerHTML=String(t)}},534:(t,e)=>{function n(t,e,n){return t>0&&t<=e?'\n    <a class="js-paginator '+(t===n?"active":"")+'" data-page="'+t+'">\n      '+t+"\n    </a>\n  ":""}function r(t,e,n,r){return r&&e>3?'\n    <a class="js-paginator" data-page="'+t+'">\n      '+n+"\n    </a>\n  ":""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var o=t-1,u=t,a=t+1;return 1===t?(++o,++u,++a):t===e&&(--o,--u,--a),"\n    "+r(1,e,"<<",t>2)+"\n    "+n(o,e,t)+"\n    "+n(u,e,t)+"\n    "+n(a,e,t)+"\n    "+r(e,e,">>",t<e-1)+"\n  "}},236:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.image,r=t.id,o=t.price;return'\n        <div class="product-card">\n            <div class="product-image">\n                <a href="/product/'+r+'">\n                    <img src="'+n+'">\n                </a>\n                <div class="favorites-icon '+(e?"selected":"")+'">\n                    &#9733;\n                </div>\n            </div>\n            <div class="product-info">\n                <h5><a href="/product/'+r+'">'+t.title+"</a></h5>\n                <h6>$"+o+'</h6>\n            </div>\n            <a class="shopButton shopButton-products" data-id="'+r+'">Comprar</a>\n        </div>\n    '}}},e={};!function n(r){var o=e[r];if(void 0!==o)return o.exports;var u=e[r]={exports:{}};return t[r].call(u.exports,u,u.exports,n),u.exports}(266)})();